# 아이템 56. 공개된 API 요소에는 항상 문서화 주석을 작성하라. 

### 자바독(JavaDoc)이란?
- API 문서화 유틸리티 
- 소스코드 파일에서 문서화 주석(자바독 주석) 이라는 특수한 형태로 기술된 설명을 추려 API 문서로 변환해준다. 
- 문서화 주석 작성 규칙은 [문서화 주석 작성법 웹사이트](https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html)에 기술 되어있다. 

### 문서화 주석
![TheExampleOfDocComment.png](img%2FTheExampleOfDocComment.png)
- API 를 올바로 문서화 하려면 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다.
- 직렬화할 수 있는 클래스라면 직렬화 형태에 관해서 작성해야 한다. 
- 기본 생성자에는 문서화 주석을 달 방법이 없으니 공개 클래스는 절대 기본 생성자를 사용하면 안 된다.
    - 기본 생성자는 매개변수를 받지 않기 때문에 명시적으로 어떤 값을 초기화하는지 알 수 없다.
- 유지보수까지 고려한다면 대다수의 공개되지 않은 클래스, 인터페이스, 생성자, 메서드, 필드에도 문서화 주석을 달아야 한다.

### 메서드용 문서화 주석
해당 메서드와 클라이언트 사이의 규약을 명료하게 기술해야 한다. 
- 메서드가 무엇(what)을 하는지 기술한다. 
- 메서드 호출하기 위한 전제조건을 모두 나열해야 한다.
- 메서드가 성공적으로 수행된 후 만족하는 사후조건도 모두 나열해야 한다.
- 뿐만 아니라 사후조건으로 명확히 나타나지는 않지만 시스템의 상태에 어떠한 변화를 가져오는지(부작용)도 작성해야 한다.

### JavaDoc 주석 태그
- @param
  - 해당 매개변수가 뜻하는 값을 설명하는 명사구를 쓴다. 
  - 모든 매개변수에 설명을 달아야 한다. 
  - 마침표 붙이지 않는다.
- @return
  - 반환값을 설명하는 명사구를 쓴다. 
  - 반환 값이 void 가 아니라면 단다.  
  - 메서드 설명과 같으면 생략 가능하다. 
  - 마침표 붙이지 않는다.
- @throws 
  - if 로 시작해 해당 예외를 던지는 조건을 설명하는 절이 뒤따른다. 
  - 발생할 가능성이 있는 모든 예외에 작성한다. 
  - 마침표 붙이지 않는다. 
- {@code...}
  - 태그로 감싼 내용을 코드용 폰트로 렌더링한다. 
  - 주석 내의 HTML 요소나 다른 자바독 태그를 무시한다.
  - @ 기호에는 무조건 탈출문자( \ )를 붙여야 한다.
- @implSpec
  - 클래스를 상속용으로 설계할 때 자기 사용 패턴에 대해서 문서를 남겨야 한다. 
  - 자기 사용 패턴은 자바 8에 추가된 @implSpec 으로 문서화 한다. 
  - 해당 메서드와 하위 클래스 사이의 계약을 설명한다. 
  - 하위 클래스들이 그 메서드를 상속하거나 super 키워드로 호출할 때 그 메서드가 어떻게 동작하는지를 명확히 알려주어야 한다.
  - 자바독 명령줄에서  -tag "implSpec:`a:Implementation Requirements:" 스위치를 켜주지 않으면 @implSpec 태그를 무시하니 주의하자. 
- {@literal}
  - HTML 마크업이나 자바독 태그를 무시하게 해준다. 
  - {@code} 태그랑 비슷하지만, 폰트 렌더링은 하지 않는다. 
- {@index}
  - 자바독이 생성한 HTML 문서에 검색(색인) 가능하다. 
  - 클래스, 메서드, 필드 같은 API 요소의 색인은 자동으로 만들어진다. 
  - {@index} 로 API 에서 중요한 용어를 색인으로 추가할 수 있다.

### JavaDoc 주석 규약 
1. 각 문서화 주석의 첫 번째 문장은 해당 요소의 요약 설명으로 간주한다.
  - 반드시 대상의 기능을 고유하게 기술해야 한다. 
    - 한 클래스 또는 인터페이스 안에서 요약 설명이 똑같은 멤버 혹은 생성자가 둘 이상이면 안 된다. 
  - 첫 번째 마침표까지가 첫 문장이 되므로 마침표에 주의하자.  
    - 의도치 않은 마침표 사용시에는 {@literal} 을 사용하자.
    - 마침표 + 공백 + 대문자 : 인 경우 문장이 끝난다고 인식한다. 
      - Mrs. Peacock -> {@literal Mrs. Peacok}
  - 자바 10부터 {@summary} 라는 요약 설명 전용 태그가 추가 되었다. 
  - 메서드와 생성자의 요약 설명은 해당 메서드와 생성자의 동작을 설명하는 주어가 없는 동사구
  - 클래스, 인터페이스, 필드의 요약 설명은 대상을 설명하는 명사절
    - 클래스, 인터페이스의 대상 : 그 인스턴스
    - 필드의 대상 : 필드 자신
  - 제네릭 : 제네릭 타입이나 제네릭 메서드를 문서화할 때는 모든 타입 매개변수에 주석을 달아야 한다. 
![generic.png](img%2Fgeneric.png)
  - 열거 타입 : 열거 타입 자체, 열거 타입의 public 메서드, 상수들에도 주석을 달아야 한다.
![enum.png](img%2Fenum.png)
  - 애너테이션 타입 : 애너테이션 타입 자체, 멤버들에도 모두 주석을 달고, 필드 설명은 명사구로 한다.
![annotation.png](img%2Fannotation.png)

2. API 문서화에서 자주 누락되는 설명 2가지 
  - 스레드 안전성 : 클래스 혹은 정적 메서드가 스레드 안전하든 아니든, 스레드 안전 수준을 반드시 API 설명에 기술해야 한다. 
  - 직렬화 가능성 : 직렬화할 수 있는 클래스라면 직렬화 형태도 API 설명에 기술해야 한다. 

3. 자바독은 메서드 주석을 상속시킬 수 있다. 
  - 문서화 주석이 없는 API 요소를 발견하면 가장 가까운 문서화 주석을 찾아준다. 
  - 그 클래스가 구현한 '인터페이스'부터 찾는다. 
  - {@inheritDoc}태그 사용해 상위 타입의 문서화 주석 일부를 상속할 수 있다. 

### 문서화 주석 주의 사항
- 여러 클래스가 상호 작용하는 복잡한 API 인 경우 아키텍쳐 설명 시 그 문서의 링크를 주석에서 제공할 수 있다. 

### 자바독 문서를 올바르게 작성했는지 확인하는 기능 
- 체크 스타일(checkstyle) 같은 IDE 플러그 인을 사용
- 자바독이 생성한 HTML 파일을 HTML 유효성 검사기 사용
- 자바독 유틸리티가 생성한 웹페이지를 읽어본다.

## 결론
- API 를 문서화하는 가장 훌륭하고 효과적인 방법은 문서화 주석이다. 
- 공개 API 라면 표준 규약을 지켜 빠짐없이 설명을 작성하자. 
